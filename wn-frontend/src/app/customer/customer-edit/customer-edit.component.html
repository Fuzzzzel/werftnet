<div class="container-fluid form-default">
  <h1 *ngIf="cust_edit.id">Kunden bearbeiten</h1>
  <h1 *ngIf="!cust_edit.id">Kunden anlegen</h1>
  <div class="row tile">
    <div class="col-sm-4 form-box">
      <div class="form-input">
        <label class="control-label col-md-3">Firma1</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.name1">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Firma2</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.name2">
        </div>
      </div>
      <!-- <div class="fomr-input">&nbsp;</div> -->
      <div class="form-input">
        <label class="control-label col-md-3">Straße</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.address.street">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Straße2</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.address.street2">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Postleitzahl</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.address.zipcode">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Stadt</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.address.city">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">{{ coreData.country.display_name }}</label>
        <div class="col-md-9">
          <select class="form-control" [(ngModel)]="cust_edit.address.country" [compareWith]='util.compareById'>
            <option [value]='undefined' selected>-- Bitte wählen --</option>
            <option *ngFor="let option of coreData.country.values" [ngValue]="option">{{ option.name }}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-sm-4 form-box">
      <div class="form-input">
        <label class="control-label col-md-3">Kundennr.</label>
        <div class="col-md-9">
          <input type="text" class="form-control" [(ngModel)]="cust_edit.customer_no">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">E&#8209;Mail</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.email">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">E&#8209;Mail2</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.email2">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Telefon</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.phone">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Mobil</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.phone2">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Fax</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.fax">
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Skype</label>
        <div class="col-md-9">
          <input class="form-control" [(ngModel)]="cust_edit.skype">
        </div>
      </div>
    </div>
    <div class="col-sm-4 form-box">
      <label class="control-label">Interne Info</label>
      <textarea class="form-control" rows="8" [(ngModel)]="cust_edit.comment"></textarea>
    </div>
  </div>
  <div class="row tile">
    <div class="col-sm-4 form-box">
      <div class="form-input">
        <label class="control-label col-md-3">{{ coreData.customer_status.display_name }}</label>
        <div class="col-md-9">
          <select class="form-control" [(ngModel)]="cust_edit.status" [compareWith]='util.compareById'>
            <option [value]='undefined' selected>-- Bitte wählen --</option>
            <option *ngFor="let option of coreData.customer_status.values" [ngValue]="option">{{ option.name }}</option>
          </select>
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">Accountmgr.</label>
        <div class="col-md-9">
          <select class="form-control" [(ngModel)]="cust_edit.account_manager" [compareWith]='util.compareById' ng-options="option.username for option in coreData.account_managers.values | orderBy:'username' track by option.id">
            <option [value]='undefined' selected>-- Bitte wählen --</option>
            <option *ngFor="let option of coreData.account_managers.values" [ngValue]="option">{{ option.username }}</option>
          </select>
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">{{ coreData.customer_potential.display_name }}</label>
        <div class="col-md-9">
          <select class="form-control" [(ngModel)]="cust_edit.potential" [compareWith]='util.compareById' ng-options="option.name for option in coreData.customer_potential.values track by option.id">
            <option [value]='undefined' selected>-- Bitte wählen --</option>
            <option *ngFor="let option of coreData.customer_potential.values" [ngValue]="option">{{ option.name }}</option>
          </select>
        </div>
      </div>
      <div class="form-input">
        <label class="control-label col-md-3">{{ coreData.customer_origin.display_name }}</label>
        <div class="col-md-9">
          <select class="form-control" [(ngModel)]="cust_edit.origin" [compareWith]='util.compareById' ng-options="option.name for option in coreData.customer_origin.values track by option.id">
            <option [value]='undefined' selected>-- Bitte wählen --</option>
            <option *ngFor="let option of coreData.customer_origin.values" [ngValue]="option">{{ option.name }}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-sm-4 form-box">

    </div>
    <div class="col-sm-4 form-box">
      <label class="control-label">Rechnungsbedingungen</label>
      <textarea class="form-control" rows="5" [(ngModel)]="cust_edit.invoicing_details"></textarea>
    </div>
  </div>
  <div class="row pull-right">
    <button class="btn btn-primary" (click)="saveCustomer()">Speichern</button>
    <button class="btn btn-danger" (click)="cancelEdit()">Abbrechen</button>
    <button class="btn btn-default" (click)="deleteCustomer()" [disabled]="cust_edit.id == null">
      Löschen
    </button>
  </div>
</div>