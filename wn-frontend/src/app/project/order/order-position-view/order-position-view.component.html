<app-order-position-edit *ngIf="editMode" [position]="position" (cancel)="toggleEditMode()" (save)="saveOrderPosition($event)"
  (delete)="deleteOrderPosition($event)">
</app-order-position-edit>

<div *ngIf="!editMode" class="card clickable" (click)="toggleEditMode()">
  <div class="card-body">
    <div class="row">
      <div class="col-md-5">
        <div class="form-group row no-gutters">
          <div class="col-md-1">
            {{ position.pos_no_string }}
          </div>
          <div class="col-md">
            {{ position.lng_source && position.lng_source.name}}
          </div>
          <div class="col-md">
            {{ position.lng_target && position.lng_target.name}}
          </div>
        </div>
      </div>
      <div class="col-md-4">
        {{ position.title}}
      </div>
      <div class="col-md-3">
        <div class="form-group row no-gutters">
          <div class="col-md-5">
            {{ position.customer_price }}
          </div>
          <div class="col-md-7">
            <button type="button" class="btn btn-sm btn-danger mx-1 float-right" (click)="deleteOrderPosition(position, $event)">
              <span class="clickable iconsmall">
                <i class="fa fa-trash" aria-hidden="true"></i>
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Tasks begin -->
    <div class="row" *ngFor="let task of position.tasks">
      <div class="col-md-2">
        {{ task.task_no_string }}
      </div>
      <div class="col-md-4">
        {{ task.title }}
      </div>
    </div>
    <!-- Tasks end -->
  </div>
</div>